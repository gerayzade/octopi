# Migration `20200409043524-001`

This migration has been generated by Heydar Gerayzade at 4/9/2020, 4:35:24 AM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TABLE "quaint"."User" (
    "createdAt" DATE NOT NULL DEFAULT CURRENT_TIMESTAMP ,
    "email" TEXT NOT NULL  ,
    "id" INTEGER NOT NULL  PRIMARY KEY AUTOINCREMENT,
    "name" TEXT   ,
    "role" TEXT NOT NULL DEFAULT 'USER' 
) 

CREATE TABLE "quaint"."Activity" (
    "endTime" TEXT NOT NULL  ,
    "id" INTEGER NOT NULL  PRIMARY KEY AUTOINCREMENT,
    "startTime" TEXT NOT NULL  ,
    "title" TEXT NOT NULL  ,
    "userId" INTEGER NOT NULL  ,FOREIGN KEY ("userId") REFERENCES "User"("id") ON DELETE CASCADE ON UPDATE CASCADE
) 

CREATE UNIQUE INDEX "quaint"."User.email" ON "User"("email")
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration ..20200409043524-001
--- datamodel.dml
+++ datamodel.dml
@@ -1,0 +1,31 @@
+datasource db {
+  provider = "sqlite"
+  url      = env("DATABASE_URL")
+}
+
+generator client {
+  provider = "prisma-client-js"
+}
+
+model User {
+  id            Int           @id @default(autoincrement())
+  createdAt     DateTime      @default(now())
+  email         String        @unique
+  name          String?
+  role          Role          @default(USER)
+  activities    Activity[]
+}
+
+model Activity {
+  id            Int           @id @default(autoincrement())
+  title         String
+  startTime     String        
+  endTime       String        
+  user          User          @relation(fields: [userId], references: [id])
+  userId        Int
+}
+
+enum Role {
+  USER
+  ADMIN
+}
```


